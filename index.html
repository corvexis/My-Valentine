<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>587 days ¬∑ our valentine üíò</title>
  <!-- Font Awesome 6 -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <!-- Google Fonts: Quicksand + Inter -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:opsz@14..32&family=Quicksand:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', 'Quicksand', sans-serif;
      background: linear-gradient(145deg, #fff3f7, #ffe4f0);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background 0.4s ease;
      color: #3a2a33;
      position: relative;
      overflow-x: hidden;
    }

    .floaty {
      position: fixed;
      font-size: 24px;
      pointer-events: none;
      z-index: 1;
      opacity: 0.3;
      animation: levitate 14s linear infinite;
    }
    @keyframes levitate {
      0% { transform: translateY(100vh) rotate(0deg); opacity: 0.25; }
      100% { transform: translateY(-10vh) rotate(360deg); opacity: 0; }
    }

    #mainApp {
      width: 100%;
      max-width: 960px;
      margin: 1.5rem;
      display: none;
      position: relative;
      z-index: 20;
    }

    .glass-splendid {
      background: rgba(255, 250, 250, 0.7);
      backdrop-filter: blur(14px);
      -webkit-backdrop-filter: blur(14px);
      border-radius: 64px;
      box-shadow: 0 20px 40px -18px rgba(190, 80, 120, 0.2), 0 0 0 1.5px rgba(255, 230, 240, 0.9) inset;
      padding: 2.8rem 2.5rem;
      border: 1px solid rgba(255, 255, 255, 0.8);
    }

    .modal-overlay {
      position: fixed;
      inset: 0;
      background: rgba(255, 240, 245, 0.6);
      backdrop-filter: blur(10px);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 300;
      padding: 1rem;
    }

    .modal-inner {
      background: rgba(255, 250, 250, 0.95);
      backdrop-filter: blur(20px);
      border-radius: 60px;
      max-width: 480px;
      width: 100%;
      padding: 3rem 2rem;
      box-shadow: 0 30px 50px -20px #d98bb8;
      border: 1px solid rgba(255, 240, 245, 0.9);
      text-align: center;
    }

    h2 {
      font-weight: 700;
      font-size: 2.4rem;
      color: #b34e7a;
      letter-spacing: -0.02em;
    }

    .btn {
      background: #f2a0bd;
      border: none;
      color: white;
      font-weight: 600;
      padding: 1rem 2.4rem;
      border-radius: 60px;
      font-size: 1.25rem;
      box-shadow: 0 12px 22px -12px #d4749c;
      cursor: pointer;
      transition: 0.2s ease;
      border: 1px solid rgba(255,255,255,0.7);
      display: inline-flex;
      align-items: center;
      gap: 10px;
      margin: 0.4rem;
    }

    .btn-outline {
      background: rgba(255,255,255,0.9);
      color: #b34e7a;
      box-shadow: none;
      border: 1.5px solid #ffc1d4;
    }

    .btn-outline:hover {
      background: white;
      border-color: #f2a0bd;
    }

    .btn:hover {
      background: #e87ca3;
      transform: scale(1.02) translateY(-3px);
      box-shadow: 0 20px 28px -14px #b34270;
    }

    #noBtn {
      background: #fbc1d0;
      box-shadow: none;
    }

    #noMessage {
      min-height: 2.8rem;
      margin-top: 1rem;
      font-size: 1.1rem;
      color: #b34e7a;
    }

    .menu-grid {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 2rem;
      margin: 2rem 0 1.5rem;
    }

    .menu-item {
      width: 140px;
      height: 140px;
      background: rgba(255, 245, 250, 0.6);
      backdrop-filter: blur(4px);
      border-radius: 48px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 4.2rem;
      border: 2px solid rgba(255, 255, 255, 0.9);
      box-shadow: 0 8px 22px -12px #e2a2bc;
      transition: 0.18s;
      cursor: pointer;
      color: #b34777;
    }

    .menu-item:hover {
      background: white;
      transform: translateY(-8px);
      border-color: #fbc1d0;
    }

    .section {
      display: none;
      animation: fadePop 0.25s ease;
    }

    @keyframes fadePop {
      0% { opacity: 0; transform: translateY(8px); }
      100% { opacity: 1; transform: translateY(0); }
    }

    /* ===== PORTRAIT PHOTO FRAMES ===== */
    .gallery {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 1.8rem;
      margin: 2.2rem 0;
      justify-content: center;
    }

    .gallery-item {
      background: rgba(255, 245, 250, 0.5);
      backdrop-filter: blur(4px);
      border-radius: 36px;
      padding: 0;
      border: 1px solid rgba(255, 220, 235, 0.9);
      text-align: center;
      overflow: hidden;
      position: relative;
      aspect-ratio: 3/4;
    }

    .gallery-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: center;
      display: block;
      border-radius: 36px;
      background: #ffe2ed;
      box-shadow: 0 6px 12px -6px #e2a2bc;
    }

    .gallery-item::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      border-radius: 36px;
      box-shadow: inset 0 2px 8px rgba(255, 255, 255, 0.6);
      pointer-events: none;
    }

    .avatar-zone {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 2rem;
      background: rgba(255, 245, 250, 0.6);
      border-radius: 100px;
      padding: 1.8rem 2.5rem;
      margin: 2rem 0;
      border: 1px solid white;
      position: relative;
    }

    .bear {
      font-size: 5.5rem;
      filter: drop-shadow(0 6px 12px #fbc1d0);
      position: relative;
      display: inline-block;
    }

    .bear-flower {
      font-size: 3.5rem;
      position: absolute;
      bottom: 0.2rem;
      right: -1rem;
      transform: rotate(10deg);
      filter: drop-shadow(0 4px 6px #e2a2bc);
      transition: all 0.2s ease;
      z-index: 5;
    }

    .flower-message {
      background: white;
      border-radius: 60px;
      padding: 0.8rem 1.8rem;
      font-size: 1.2rem;
      margin-left: 0.5rem;
      font-weight: 500;
      color: #832d54;
    }

    .reasons-grid {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 0.8rem;
      margin: 1.5rem 0;
    }

    .reason-chip {
      font-size: 1.8rem;
      background: rgba(255, 245, 250, 0.7);
      border-radius: 60px;
      padding: 0.8rem 1.6rem;
      display: inline-flex;
      align-items: center;
      gap: 12px;
      cursor: pointer;
      border: 1px solid white;
      color: #a53f68;
      transition: 0.1s;
    }

    .reason-chip:hover {
      background: white;
      transform: scale(1.02);
    }

    .letter-box {
      background: rgba(255, 250, 245, 0.9);
      border-radius: 48px;
      padding: 2rem 2.2rem;
      font-size: 1.25rem;
      line-height: 1.8;
      white-space: pre-line;
      border: 1px solid #ffd9e6;
      margin: 2rem 0;
      color: #3a2a33;
    }

    .countdown-tag {
      background: white;
      border-radius: 60px;
      padding: 0.5rem 1.8rem;
      display: inline-block;
      font-weight: 700;
      box-shadow: 0 4px 12px #fbc1d0;
      margin-bottom: 1.2rem;
      font-size: 1.3rem;
      color: #b34777;
      cursor: pointer;
      transition: 0.2s;
      position: relative;
      overflow: hidden;
    }
    .countdown-tag:hover {
      transform: scale(1.05);
      background: #ffe4f0;
    }

    /* Easter egg special animation */
    .countdown-tag.easter-egg-active {
      animation: rainbow 1.5s infinite;
    }
    @keyframes rainbow {
      0% { background: #ffb3ba; }
      25% { background: #ffdfba; }
      50% { background: #ffffba; }
      75% { background: #baffc9; }
      100% { background: #bae1ff; }
    }

    .music-fab {
      position: fixed;
      bottom: 25px;
      right: 25px;
      background: #ffffffec;
      backdrop-filter: blur(10px);
      border-radius: 60px;
      padding: 0.9rem 2rem;
      font-size: 1.3rem;
      box-shadow: 0 12px 24px -14px #c26d93;
      border: 1px solid white;
      z-index: 99;
      cursor: pointer;
      color: #9f4668;
    }

    .sparkle {
      position: fixed;
      pointer-events: none;
      font-size: 26px;
      animation: sparkleFade 1s ease-out forwards;
    }
    @keyframes sparkleFade {
      0% { opacity: 1; transform: scale(0.6); }
      100% { opacity: 0; transform: scale(2) translateY(-40px); }
    }

    .back-btn {
      margin-top: 2rem;
    }

    hr {
      border: 1px dashed rgba(255, 200, 220, 0.8);
      margin: 1.8rem 0;
    }

    .flower-row {
      display: flex;
      flex-wrap: wrap;
      gap: 0.8rem;
      justify-content: center;
      margin: 1.5rem 0;
    }

    .flower-row .btn {
      min-width: 110px;
      background: rgba(255, 255, 255, 0.9);
      color: #b34e7a;
      border: 1.5px solid #ffb6d0;
      box-shadow: 0 6px 12px -8px #d4749c;
    }

    .flower-row .btn:hover {
      background: white;
      border-color: #f2a0bd;
      transform: translateY(-3px);
    }

    #flowerMessage {
      font-size: 1.2rem;
      background: white;
      border-radius: 80px;
      padding: 1.2rem;
      margin: 1.5rem 0;
      text-align: center;
      box-shadow: inset 0 2px 8px #ffe2ed;
      min-height: 5rem;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* New sections styling */
    .playlist-item, .dream-item, .bucket-item, .quiz-item {
      background: rgba(255, 255, 255, 0.7);
      border-radius: 40px;
      padding: 1.2rem 1.8rem;
      margin: 1rem 0;
      display: flex;
      align-items: center;
      gap: 1rem;
      border: 1px solid white;
    }

    .playlist-item i, .dream-item i, .bucket-item i {
      font-size: 2rem;
      color: #b34e7a;
    }

    .quiz-btn {
      background: #f2a0bd;
      border: none;
      color: white;
      padding: 1rem 2rem;
      border-radius: 60px;
      font-size: 1.2rem;
      cursor: pointer;
      margin: 1rem 0;
    }

    .quiz-result {
      background: white;
      border-radius: 40px;
      padding: 1rem;
      margin: 1rem 0;
      min-height: 3rem;
    }

    /* Easter egg popup */
    .easter-popup {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: white;
      padding: 2.5rem;
      border-radius: 60px;
      box-shadow: 0 30px 60px -20px #c26d93;
      z-index: 1000;
      text-align: center;
      max-width: 400px;
      border: 3px solid #ffb6d0;
      animation: popIn 0.5s ease;
    }

    @keyframes popIn {
      0% { transform: translate(-50%, -50%) scale(0); }
      80% { transform: translate(-50%, -50%) scale(1.1); }
      100% { transform: translate(-50%, -50%) scale(1); }
    }

    .easter-popup h3 {
      font-size: 2rem;
      color: #b34e7a;
      margin-bottom: 1rem;
    }

    .easter-popup p {
      font-size: 1.2rem;
      margin: 1rem 0;
      line-height: 1.6;
    }

    .easter-popup .close-btn {
      background: #f2a0bd;
      border: none;
      color: white;
      padding: 0.8rem 2rem;
      border-radius: 60px;
      font-size: 1.1rem;
      cursor: pointer;
      margin-top: 1rem;
    }
  </style>
</head>
<body>
  <div id="floatContainer" style="position:fixed; inset:0; pointer-events:none;"></div>

  <div class="music-fab" onclick="toggleMusic()">
    <i class="fas fa-music"></i>¬†¬†melody
  </div>
  <audio id="bgMusic" loop>
    <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-8.mp3" type="audio/mpeg">
  </audio>

  <div class="modal-overlay" id="promptModal">
    <div class="modal-inner">
      <i class="fas fa-heart" style="font-size:4.5rem; color:#f2a0bd; margin-bottom:0.8rem;"></i>
      <h2 style="color:#a53860;">hello, love</h2>
      <p id="nameDisplay" style="font-size:2rem; background:#ffe4f0; border-radius:60px; padding:0.2rem 1rem; color:#a53860;">üå∏</p>
      <h3 style="font-size:2rem; margin:1.5rem 0 0.5rem; color:#b34e7a;">Will you be my Valentine?</h3>
      <div>
        <button class="btn" onclick="enterSite()"><i class="fas fa-check"></i> Yes, always</button>
        <button class="btn" id="noBtn"><i class="fas fa-ban"></i> No</button>
      </div>
      <p id="noMessage"></p>
    </div>
  </div>

  <div id="mainApp">
    <div class="glass-splendid">
      <!-- Clickable countdown for easter egg (now with better animation) -->
      <div class="countdown-tag" id="countdownDisplay" onclick="easterEgg()">‚ù§Ô∏è 587 days together</div>

      <div id="menu" class="menu-grid">
        <div class="menu-item" onclick="showSection('flowers')"><i class="fas fa-seedling"></i></div>
        <div class="menu-item" onclick="showSection('portraits')"><i class="fas fa-images"></i></div>
        <div class="menu-item" onclick="showSection('reasons')"><i class="fas fa-heart"></i></div>
        <div class="menu-item" onclick="showSection('letter'); startTyping()"><i class="fas fa-envelope"></i></div>
        <div class="menu-item" onclick="showSection('playlist')"><i class="fas fa-music"></i></div>
        <div class="menu-item" onclick="showSection('dreams')"><i class="fas fa-moon"></i></div>
        <div class="menu-item" onclick="showSection('bucket')"><i class="fas fa-list"></i></div>
        <div class="menu-item" onclick="showSection('quizzes')"><i class="fas fa-question"></i></div>
      </div>

      <!-- FLOWERS section -->
      <div id="flowers" class="section">
        <h2><i class="fas fa-seedling"></i> pick a flower for me</h2>
        <div class="flower-row">
          <button class="btn" onclick="pickFlower('üåπ','My love grows more beautiful every day.')">üåπ rose</button>
          <button class="btn" onclick="pickFlower('üåª','You are my sunshine, my only sunshine.')">üåª sunflower</button>
          <button class="btn" onclick="pickFlower('üå∑','Elegant and beautiful like you.')">üå∑ tulip</button>
          <button class="btn" onclick="pickFlower('üå∏','Cherry blossom ‚Äì delicate and sweet.')">üå∏ cherry</button>
          <button class="btn" onclick="pickFlower('üåº','You make my heart bloom.')">üåº daisy</button>
          <button class="btn" onclick="pickFlower('üå∫','Exotic and stunning, just like you.')">üå∫ hibiscus</button>
          <button class="btn" onclick="pickFlower('üå∏','Lavender ‚Äì calming and lovely.')">üå∏ lavender</button>
          <button class="btn" onclick="pickFlower('üåø','A little green for growth together.')">üåø fern</button>
        </div>
        <p id="flowerMessage">üå∏ Cherry blossom ‚Äì delicate and sweet.</p>
        <div class="avatar-zone">
          <span class="bear">
            üß∏
            <span class="bear-flower" id="bearHeldFlower">üå∏</span>
          </span>
          <span class="flower-message" id="avatarFlowerMsg">cherry blossom</span>
        </div>
        <button class="btn-outline back-btn" onclick="back()"><i class="fas fa-arrow-left"></i> back</button>
      </div>

      <!-- PORTRAITS section -->
      <div id="portraits" class="section">
        <h2><i class="fas fa-camera"></i> Your pics</h2>
        <div class="gallery">
          <div class="gallery-item">
            <img src="https://scontent.fceb2-2.fna.fbcdn.net/v/t1.15752-9/628072419_1227512715580078_8018064559344659504_n.jpg?stp=dst-jpg_s960x960_tt6&_nc_cat=110&ccb=1-7&_nc_sid=9f807c&_nc_ohc=iqF1tCa5wxQQ7kNvwGZoXgd&_nc_oc=AdlJEGw883MJyeMT5lu4dFzOsb7u5ku2Mgzi76ZHAKcNLZy7KbOgMeE6fIbFeHp0e3Q&_nc_zt=23&_nc_ht=scontent.fceb2-2.fna&oh=03_Q7cD4gEDGXFllKaP2q4uLxHdCikbbOwwFdkHbLDp7FtRNpi_IQ&oe=69B76C9B" alt="Memory 1">
          </div>
          <div class="gallery-item">
            <img src="https://scontent.fceb6-4.fna.fbcdn.net/v/t1.15752-9/620148850_881184751551300_4952382530538224599_n.jpg?stp=dst-jpg_s960x960_tt6&_nc_cat=109&ccb=1-7&_nc_sid=9f807c&_nc_ohc=G6rjLaYRg9AQ7kNvwGKmPDj&_nc_oc=AdmwLu60v5qy0hwIg0VhI2qr0EyaXX0wwaTIJ5NwlgUz3f_ih0EKmw-sP9gj6q5p5mA&_nc_zt=23&_nc_ht=scontent.fceb6-4.fna&oh=03_Q7cD4gFOfmJvCqTV_x_qel_rnKU-YfwFToL6WmxHFdcIpQeCNw&oe=69B77AB2" alt="Memory 2">
          </div>
          <div class="gallery-item">
            <img src="https://scontent.fceb6-3.fna.fbcdn.net/v/t1.15752-9/623854042_1572675950487696_9162678047967704099_n.jpg?stp=dst-jpg_s960x960_tt6&_nc_cat=106&ccb=1-7&_nc_sid=9f807c&_nc_ohc=TRXP8uDl7PsQ7kNvwEDvzq8&_nc_oc=AdkvMcvcg2bhoYZ4p97d3ot8AXKpmYt-R1LgOmnmeRGl3u1GxEshSqcBjWLd8CXz7wg&_nc_zt=23&_nc_ht=scontent.fceb6-3.fna&oh=03_Q7cD4gHqiD0WsAbag5CSfY5CPSfmZsQIjw-TlAG2w0Z1Hphwng&oe=69B772D7" alt="Memory 3">
          </div>
          <div class="gallery-item">
            <img src="https://scontent.fceb2-2.fna.fbcdn.net/v/t1.15752-9/622523640_1402563174104759_2584368855098681833_n.jpg?stp=dst-jpg_s960x960_tt6&_nc_cat=110&ccb=1-7&_nc_sid=9f807c&_nc_ohc=YO3SZ8YWppgQ7kNvwGdMpP-&_nc_oc=AdkTfRnWzO1XAQlTWU6MsSQLhQpURVYrY9o4nw30G3DLxv9BkgbSYCTg5fuOw5qVIKg&_nc_zt=23&_nc_ht=scontent.fceb2-2.fna&oh=03_Q7cD4gEKsHzzMknrJUYZhYARjM7muKRV8eGt26VVc-T9OZl_rQ&oe=69B755E4" alt="Memory 4">
          </div>
        </div>
        <button class="btn-outline back-btn" onclick="back()"><i class="fas fa-arrow-left"></i> back</button>
      </div>

      <!-- REASONS section -->
      <div id="reasons" class="section">
        <h2><i class="fas fa-heart"></i> why i love you</h2>
        <div class="reasons-grid">
          <span class="reason-chip" onclick="showReason('your smile lights up my whole world')"><i class="fas fa-smile"></i> smile</span>
          <span class="reason-chip" onclick="showReason('the kindness you give to everyone')"><i class="fas fa-hand-holding-heart"></i> kindness</span>
          <span class="reason-chip" onclick="showReason('every moment, even the quiet ones')"><i class="fas fa-clock"></i> moments</span>
          <span class="reason-chip" onclick="showReason('your laugh ‚Äì it\'s my favorite sound')"><i class="fas fa-music"></i> laugh</span>
          <span class="reason-chip" onclick="showReason('the way you care, deeply and truly')"><i class="fas fa-star"></i> care</span>
          <span class="reason-chip" onclick="showReason('you, just as you are, always')"><i class="fas fa-heart"></i> you</span>
        </div>
        <p id="reasonText" style="background:white; border-radius:60px; padding:1rem; margin:2rem 0; text-align:center; min-height: 4rem;"></p>
        <button class="btn-outline back-btn" onclick="back()"><i class="fas fa-arrow-left"></i> back</button>
      </div>

      <!-- LETTER section -->
      <div id="letter" class="section">
        <h2><i class="fas fa-envelope"></i> a letter for you</h2>
        <div id="typedLetter" class="letter-box"></div>
        <button class="btn-outline back-btn" onclick="back()"><i class="fas fa-arrow-left"></i> back</button>
      </div>

      <!-- NEW: PLAYLIST section -->
      <div id="playlist" class="section">
        <h2><i class="fas fa-music"></i> our playlist</h2>
        <div class="playlist-item"><i class="fas fa-play"></i> "Perfect" - Ed Sheeran</div>
        <div class="playlist-item"><i class="fas fa-play"></i> "Lover" - Taylor Swift</div>
        <div class="playlist-item"><i class="fas fa-play"></i> "Can't Help Falling in Love" - Elvis</div>
        <div class="playlist-item"><i class="fas fa-play"></i> "Thinking Out Loud" - Ed Sheeran</div>
        <div class="playlist-item"><i class="fas fa-play"></i> "All of Me" - John Legend</div>
        <button class="btn-outline back-btn" onclick="back()"><i class="fas fa-arrow-left"></i> back</button>
      </div>

      <!-- NEW: DREAMS section -->
      <div id="dreams" class="section">
        <h2><i class="fas fa-moon"></i> dreams together</h2>
        <div class="dream-item"><i class="fas fa-house"></i> Our dream home by the sea</div>
        <div class="dream-item"><i class="fas fa-plane"></i> Travel to Japan together</div>
        <div class="dream-item"><i class="fas fa-dog"></i> Adopt a puppy</div>
        <div class="dream-item"><i class="fas fa-tree"></i> Build a garden</div>
        <div class="dream-item"><i class="fas fa-cake"></i> Grow old together</div>
        <button class="btn-outline back-btn" onclick="back()"><i class="fas fa-arrow-left"></i> back</button>
      </div>

      <!-- NEW: BUCKET LIST section -->
      <div id="bucket" class="section">
        <h2><i class="fas fa-list"></i> our bucket list</h2>
        <div class="bucket-item"><i class="fas fa-check-circle"></i> Watch sunset in Santorini</div>
        <div class="bucket-item"><i class="fas fa-check-circle"></i> Learn to cook together</div>
        <div class="bucket-item"><i class="fas fa-check-circle"></i> Go to a music festival</div>
        <div class="bucket-item"><i class="fas fa-check-circle"></i> See the Northern Lights</div>
        <div class="bucket-item"><i class="fas fa-check-circle"></i> Write love letters to each other</div>
        <button class="btn-outline back-btn" onclick="back()"><i class="fas fa-arrow-left"></i> back</button>
      </div>

      <!-- NEW: QUIZZES section -->
      <div id="quizzes" class="section">
        <h2><i class="fas fa-question"></i> how well do you know me?</h2>
        <p>What's my favorite color?</p>
        <button class="quiz-btn" onclick="checkQuiz('pink')">Pink</button>
        <button class="quiz-btn" onclick="checkQuiz('blue')">Blue</button>
        <button class="quiz-btn" onclick="checkQuiz('purple')">Purple</button>
        <div id="quizResult" class="quiz-result">üí≠ Click an answer...</div>
        <button class="btn-outline back-btn" onclick="back()"><i class="fas fa-arrow-left"></i> back</button>
      </div>

      <hr>
      <div style="text-align:center; opacity:0.6;">587 days and always</div>
    </div>
  </div>

  <!-- Easter egg popup (hidden by default) -->
  <div id="easterPopup" class="easter-popup" style="display: none;">
    <h3>üíù secret message üíù</h3>
    <p id="easterMessage"></p>
    <button class="close-btn" onclick="closeEasterPopup()">close</button>
  </div>

  <script>
    (function() {
      const floatContainer = document.getElementById('floatContainer');
      function createFloater() {
        const el = document.createElement('div');
        el.className = 'floaty';
        const icons = ['üíñ', 'üå∏', '‚ú®', 'üçì', 'üíò', 'üåº', 'üåπ', 'üåª'];
        el.innerText = icons[Math.floor(Math.random() * icons.length)];
        el.style.left = Math.random() * 100 + '%';
        el.style.fontSize = (Math.random() * 30 + 18) + 'px';
        el.style.animationDuration = (Math.random() * 12 + 10) + 's';
        floatContainer.appendChild(el);
        setTimeout(() => el.remove(), 20000);
      }
      setInterval(createFloater, 500);

      let valName = localStorage.getItem('valName');
      if (!valName) {
        valName = prompt("What's your name, sweetheart?") || "beautiful";
        localStorage.setItem('valName', valName);
      }
      document.getElementById('nameDisplay').innerHTML = `üå∏ ${valName}`;

      window.enterSite = function() {
        document.getElementById('promptModal').style.display = 'none';
        document.getElementById('mainApp').style.display = 'block';
        confettiBurst();
      };

      const noBtn = document.getElementById('noBtn');
      let scaleNo = 1;
      function moveNo() {
        scaleNo = Math.max(0.3, scaleNo - 0.12);
        noBtn.style.transform = `scale(${scaleNo})`;
        noBtn.style.position = 'relative';
        noBtn.style.left = Math.random() * 100 + 'px';
        noBtn.style.top = Math.random() * 30 + 'px';
        document.getElementById('noMessage').innerHTML = 'üôà you know you want to say yes! üíñ';
      }
      noBtn.addEventListener('mouseover', moveNo);
      noBtn.addEventListener('touchstart', moveNo);

      window.showSection = function(id) {
        document.getElementById('menu').style.display = 'none';
        document.querySelectorAll('.section').forEach(s => s.style.display = 'none');
        document.getElementById(id).style.display = 'block';
      };

      window.back = function() {
        document.querySelectorAll('.section').forEach(s => s.style.display = 'none');
        document.getElementById('menu').style.display = 'flex';
      };

      window.pickFlower = function(flower, msg) {
        document.getElementById('bearHeldFlower').innerText = flower;
        document.getElementById('avatarFlowerMsg').innerText = msg;
        document.getElementById('flowerMessage').innerText = msg;
        
        let bg = '';
        if (flower === 'üåπ') bg = 'linear-gradient(145deg, #ffe4f0, #ffd6e6)';
        else if (flower === 'üåª') bg = 'linear-gradient(145deg, #fff8e7, #ffe4d6)';
        else if (flower === 'üå∑') bg = 'linear-gradient(145deg, #fde9f2, #fad4e6)';
        else if (flower === 'üå∏' && msg.includes('Cherry')) bg = 'linear-gradient(145deg, #fdeff5, #fadceb)';
        else if (flower === 'üåº') bg = 'linear-gradient(145deg, #fff9e6, #ffe0b5)';
        else if (flower === 'üå∫') bg = 'linear-gradient(145deg, #ffe1f0, #ffb3c6)';
        else if (flower === 'üå∏' && msg.includes('Lavender')) bg = 'linear-gradient(145deg, #e6d9f0, #d9b8e0)';
        else if (flower === 'üåø') bg = 'linear-gradient(145deg, #e4f0e3, #c4e0c0)';
        else bg = 'linear-gradient(145deg, #fff3f7, #ffe4f0)';
        
        document.body.style.background = bg;
      };

      window.showReason = function(text) {
        document.getElementById('reasonText').innerText = 'üíó ' + text;
      };

      const letterContent = `My dearest love,

These 587 days with you have been the most beautiful of my life. 
Every morning, every laugh, every quiet moment together ‚Äî 
you've painted my world in colors I didn't know existed.

I love the way you smile when you're happy, 
the way you care so deeply, 
the way you make even ordinary days feel special.

You are my peace, my joy, my home.

I still get butterflies thinking of you.
I still miss you the moment you leave.
And I still choose you, today and always.

Forever yours,
Your Valentine üíò`;

      window.startTyping = function() {
        const el = document.getElementById('typedLetter');
        el.innerHTML = '';
        let i = 0;
        function type() {
          if (i < letterContent.length) {
            el.innerHTML += letterContent.charAt(i);
            i++;
            setTimeout(type, 40);
          }
        }
        type();
      };

      window.toggleMusic = function() {
        const m = document.getElementById('bgMusic');
        if (m.paused) m.play();
        else m.pause();
      };

      // BETTER EASTER EGG - shows a popup with secret message
      window.easterEgg = function() {
        // Add animation to countdown
        const countdown = document.getElementById('countdownDisplay');
        countdown.classList.add('easter-egg-active');
        
        // Create special message based on name
        const name = valName || 'love';
        const messages = [
          `üíù ${name}, these 587 days have been magic. Here's to forever! üíù`,
          `‚ú® 587 days of loving you, and it only gets better. ‚ú®`,
          `üåü You're my favorite person, today and always. Happy 587! üåü`,
          `üíñ Every day with you is a gift. Thank you for 587 beautiful days. üíñ`
        ];
        const randomMsg = messages[Math.floor(Math.random() * messages.length)];
        
        // Show popup
        document.getElementById('easterMessage').innerText = randomMsg;
        document.getElementById('easterPopup').style.display = 'block';
        
        // Extra confetti
        for (let i = 0; i < 60; i++) {
          const c = document.createElement('div');
          c.className = 'floaty';
          c.innerText = ['üíñ','üíò','üíó','üíì','üíï','üíû'][Math.floor(Math.random()*6)];
          c.style.left = Math.random() * 100 + '%';
          c.style.fontSize = (Math.random() * 34 + 18) + 'px';
          c.style.animation = 'levitate 3s ease-out forwards';
          c.style.opacity = 0.8;
          floatContainer.appendChild(c);
          setTimeout(() => c.remove(), 3000);
        }
        
        // Remove animation after 3 seconds
        setTimeout(() => {
          countdown.classList.remove('easter-egg-active');
        }, 3000);
      };

      window.closeEasterPopup = function() {
        document.getElementById('easterPopup').style.display = 'none';
      };

      // Quiz function
      window.checkQuiz = function(answer) {
        const result = document.getElementById('quizResult');
        if (answer === 'pink') {
          result.innerHTML = 'üíñ Correct! You know me so well! üíñ';
        } else {
          result.innerHTML = 'üíî Not quite... but I still love you! üíî';
        }
      };

      document.addEventListener('mousemove', (e) => {
        if (Math.random() > 0.78) {
          const sp = document.createElement('div');
          sp.className = 'sparkle';
          sp.innerText = '‚ú®';
          sp.style.left = e.clientX + 'px';
          sp.style.top = e.clientY + 'px';
          document.body.appendChild(sp);
          setTimeout(() => sp.remove(), 900);
        }
      });

      document.getElementById('countdownDisplay').innerHTML = '‚ù§Ô∏è 587 days together';

      window.confettiBurst = function() {
        for (let i=0; i<45; i++) {
          const c = document.createElement('div');
          c.className = 'floaty';
          c.innerText = ['üíñ','üå∏','‚ú®','üíò'][Math.floor(Math.random()*4)];
          c.style.left = Math.random()*100 + '%';
          c.style.fontSize = (Math.random()*26+14)+'px';
          c.style.animation = 'levitate 2.5s ease-out forwards';
          floatContainer.appendChild(c);
          setTimeout(() => c.remove(), 2500);
        }
      };

      window.pickFlower('üå∏', 'Cherry blossom ‚Äì delicate and sweet.');
    })();
  </script>
</body>
</html>
